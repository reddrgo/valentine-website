<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Valentine's Proposal</title>

<style>
  /* Centering everything on the screen */
  body {
    background: linear-gradient(white, #ffd6e8);
    font-family: 'Arial', sans-serif;
    margin: 0;
    height: 100vh;
    display: flex;
    flex-direction: column;
    justify-content: center; /* Vertical center */
    align-items: center;     /* Horizontal center */
    overflow: hidden;
  }

  .box h1 {
    font-size: 8em;
    margin-bottom: 20px;
    border: 4px solid black;
    background: white;
    padding: 15px;
  }

  .characters img {
    width: 750px; /* Bigger for better visibility */
    height: auto;
    border: 4px solid black;
    background: white;
    margin-bottom: 30px;
    display: block;
  }

  .btn-container {
    display: flex;
    gap: 40px; /* The gap between buttons */
    position: relative;
    height: 60px; /* Maintains space so layout doesn't jump */
    align-items: center;
  }

  button {
    font-size: 1.5em;
    padding: 15px 30px;
    border-radius: 12px;
    border: 3px solid black;
    cursor: pointer;
    transition: transform 0.1s ease;
  }

  #yesBtn {
    background: #ff6fae;
    z-index: 10;
  }

  #noBtn {
    background: #ddd;
    position: relative; /* Stays in the gap until approached */
  }
</style>
</head>

<body>

<div class="box">
  <h1>Will you be my Valentine?</h1>
</div>

<div class="characters">
  <img src="stitch.gif">
</div>

<div class="btn-container">
  <button id="yesBtn" onclick="goYes()">YES</button>
  <button id="noBtn">NO</button>
</div>

<audio id="music" src="song1.mp3" loop></audio>

<script>
  const noBtn = document.getElementById("noBtn");
  const yesBtn = document.getElementById("yesBtn");
  const music = document.getElementById("music");
  
  let scale = 1;
  let noTexts = ["NO", "Are you sure?", "Pwease?", "Think again!", "Last chance!", "Rude!"];
  let index = 0;
  let hasMoved = false;

  // 1. AUDIO FIX: Start music on the first click anywhere
  document.addEventListener('click', () => {
    music.play().catch(() => console.log("Music play pending interaction..."));
  }, { once: true });

  // 2. PROXIMITY LOGIC: Move when mouse gets near
  document.addEventListener("mousemove", (e) => {
    const mouseX = e.clientX;
    const mouseY = e.clientY;
    
    const rect = noBtn.getBoundingClientRect();
    const btnX = rect.left + rect.width / 2;
    const btnY = rect.top + rect.height / 2;

    // Check distance between cursor and "No" button
    const distance = Math.sqrt(Math.pow(mouseX - btnX, 2) + Math.pow(mouseY - btnY, 2));

    // If mouse is within 80 pixels, jump!
    if (distance < 80) {
      moveNo();
    }
  });

  function moveNo() {
    if (!hasMoved) {
      noBtn.style.position = "absolute";
      hasMoved = true;
    }

    // Change text and grow Yes button
    noBtn.textContent = noTexts[index % noTexts.length];
    index++;
    scale += 0.2;
    yesBtn.style.transform = `scale(${scale})`;

    // Random position within the screen
    const x = Math.random() * (window.innerWidth - 150);
    const y = Math.random() * (window.innerHeight - 100);
    
    noBtn.style.left = x + "px";
    noBtn.style.top = y + "px";
  }

  function goYes() {
    // This will redirect to your 'yes.html' page
    window.location.href = "yes.html";
  }
</script>

</body>
</html>